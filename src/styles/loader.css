body.is-loading {
  overflow: hidden;
}

.app {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 900ms ease-out,
    transform 900ms cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: none;
}

body.is-loaded .app {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.loader {
  position: fixed;
  inset: 0;
  z-index: 9999;

  background: var(--c-bg);

  display: grid;
  place-items: center;

  transition: opacity 800ms cubic-bezier(0.76, 0, 0.24, 1),
    transform 800ms cubic-bezier(0.76, 0, 0.24, 1),
    filter 800ms cubic-bezier(0.76, 0, 0.24, 1), visibility 0s linear 800ms;

  will-change: opacity, transform, filter;
}

body.is-loaded .loader {
  opacity: 0;
  visibility: hidden;
  transform: scale(1.05);
  filter: blur(10px);
}

.loader__stack {
  display: grid;
  justify-items: center;
  gap: var(--sp-3);
  text-align: center;
}

.loader__ring-wrap {
  --size: clamp(5.5rem, 5rem + 2vw, 7rem);
  position: relative;
  width: var(--size);
  aspect-ratio: 1 / 1;
  display: grid;
  place-items: center;
}

.loader__glow {
  position: absolute;
  inset: 0;
  border-radius: 999px;
  background: rgba(176, 141, 85, 0.18);
  filter: blur(clamp(1.6rem, 1.2rem + 1vw, 2.6rem));
  transform: scale(0.78);
  opacity: 0.9;
}

.loader__svg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.loader__ring {
  stroke-dasharray: 283;
  stroke-dashoffset: 283;
  transform-origin: center;
  transform: rotate(-90deg);
  animation: loaderRingFill 1800ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

@keyframes loaderRingFill {
  from {
    stroke-dashoffset: 283;
  }
  to {
    stroke-dashoffset: 0;
  }
}

.loader__icon {
  opacity: 0;
  transform: scale(0.85) translateY(10px);
  animation: loaderIconPop 1200ms cubic-bezier(0.22, 1, 0.36, 1) 200ms forwards;
}

@keyframes loaderIconPop {
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.loader__icon :is(svg, i) {
  width: clamp(2.25rem, 2rem + 0.6vw, 2.5rem);
  height: clamp(2.25rem, 2rem + 0.6vw, 2.5rem);
  color: var(--gold-200);
}

.loader__title-mask {
  overflow: hidden;
  padding-bottom: 4px;
}

.loader__title {
  font-family: var(--ff-serif);
  font-size: clamp(1.8rem, 1.5rem + 1.2vw, 2.2rem);
  font-weight: 500;
  color: var(--c-text);

  transform: translateY(110%);
  opacity: 0;
  animation: loaderSlideUp 1000ms cubic-bezier(0.22, 1, 0.36, 1) 400ms forwards;
}

@keyframes loaderSlideUp {
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.loader__subtitle {
  margin-top: 0.35rem;

  font-size: clamp(0.55rem, 0.52rem + 0.15vw, 0.65rem);
  text-transform: uppercase;
  font-weight: 700;

  opacity: 0;
  letter-spacing: 0.1em;
  filter: blur(4px);
  animation: loaderTracking 1200ms cubic-bezier(0.22, 1, 0.36, 1) 600ms forwards;

  color: rgba(237, 237, 237, 0.6);
}

@keyframes loaderTracking {
  to {
    opacity: 0.6;
    letter-spacing: 0.4em;
    filter: blur(0);
  }
}
